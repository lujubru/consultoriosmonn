{% extends "base.html" %}

{% block title %}{{ 'Editar' if especialidad else 'Nueva' }} Especialidad{% endblock %}

{% block content %}
<div class="container">
    <div class="form-container">
        <h1>{{ 'Editar' if especialidad else 'Nueva' }} Especialidad</h1>

        <form method="POST">
            <div class="form-group">
                <label for="nombre">Nombre *</label>
                <input type="text" id="nombre" name="nombre" class="form-control" 
                       value="{{ especialidad.nombre if especialidad else '' }}" required>
            </div>

            <div class="form-group">
                <label for="descripcion">Descripción</label>
                <textarea id="descripcion" name="descripcion" class="form-control" rows="3">{{ especialidad.descripcion if especialidad else '' }}</textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="costo_consulta">Costo Base de Consulta *</label>
                    <input type="number" id="costo_consulta" name="costo_consulta" 
                           class="form-control" step="0.01" min="0"
                           value="{{ especialidad.costo_consulta if especialidad else '' }}" required>
                </div>

                <div class="form-group">
                    <label for="duracion_turno">Duración Turno (minutos) *</label>
                    <select id="duracion_turno" name="duracion_turno" class="form-control" required>
                        <option value="15" {{ 'selected' if especialidad and especialidad.duracion_turno == 15 }}>15 minutos</option>
                        <option value="30" {{ 'selected' if especialidad and especialidad.duracion_turno == 30 else 'selected' }}>30 minutos</option>
                        <option value="45" {{ 'selected' if especialidad and especialidad.duracion_turno == 45 }}>45 minutos</option>
                        <option value="60" {{ 'selected' if especialidad and especialidad.duracion_turno == 60 }}>60 minutos</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label>
                    <input type="checkbox" name="activo" 
                           {{ 'checked' if not especialidad or especialidad.activo }}>
                    Especialidad Activa
                </label>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    {{ 'Actualizar' if especialidad else 'Crear' }} Especialidad
                </button>
                <a href="{{ url_for('admin.listar_especialidades') }}" class="btn btn-secondary">Cancelar</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}