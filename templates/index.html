{% extends "base.html" %}

{% block title %}Inicio - Consultorios Monn{% endblock %}

{% block content %}
<!-- Banner de InstalaciÃ³n PWA - Solo en Index -->
<div id="install-banner" style="display: none; background: #007bff; color: white; padding: 15px; text-align: center; position: sticky; top: 0; z-index: 9999;">
    <span>Â¡Descarga nuestra App para una mejor experiencia!</span>
    <button id="btn-install" class="btn-primary" style="margin-left: 10px; background: white; color: #007bff;">Instalar</button>
    <button onclick="document.getElementById('install-banner').style.display='none'" style="background: none; border: none; color: white; margin-left: 10px; cursor: pointer;">âœ•</button>
</div>

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-content">
        <div class="hero-announcement">
            âœ¨ Nueva Prepaga Disponible
        </div>
        <h1 class="hero-title">Unite y Atendete Gratis en Nuestros Consultorios</h1>
        <p class="hero-subtitle">
            Suscribite a nuestra prepaga mensual y accedÃ© a atenciÃ³n mÃ©dica de calidad sin preocuparte por costos adicionales. 
            Planes flexibles para vos y tu familia.
        </p>
        <div class="hero-cta">
            {% if not session.get('user_id') %}
                <a href="{{ url_for('register') }}" class="btn-primary">
                    Comenzar Ahora
                    
                </a>
                <a href="#planes" class="btn-secondary">Ver Planes</a>
            {% else %}
                <a href="{{ url_for('nuevo_turno') }}" class="btn-primary">Solicitar Turno</a>
                <a href="{{ url_for('dashboard_user') }}" class="btn-secondary">Mi Panel</a>
            {% endif %}
        </div>
    </div>
</section>

<!-- Plans Section -->
<section class="plans-section" id="planes">
    <h2 class="section-title">Nuestros Planes de Prepaga</h2>
    <div class="plans-grid">
        <!-- Plan Individual -->
        <div class="plan-card">
            <div class="plan-header">
                <h3 class="plan-name">Individual</h3>
                <div class="plan-price">$X</div>
                <p class="plan-price-label">Por mes</p>
            </div>
            <ul class="plan-features">
                <li>âœ“ Hasta 10 atenciones mensuales</li>
                <li>âœ“ Todas las especialidades</li>
                <li>âœ“ Turnos online 24/7</li>
                <li>âœ“ Historial mÃ©dico digital</li>
                <li>âœ“ Sin costos adicionales por consulta</li>
            </ul>
            {% if not session.get('user_id') %}
                <a href="{{ url_for('register') }}" class="btn-primary" style="width: 100%;">Elegir Plan</a>
            {% endif %}
            <p class="plan-note">*Incluye hasta 10 consultas gratuitas por mes</p>
        </div>

        <!-- Plan Pareja -->
        <div class="plan-card featured">
            <div class="plan-header">
                <h3 class="plan-name">Pareja</h3>
                <div class="plan-price">$X</div>
                <p class="plan-price-label">Por mes</p>
            </div>
            <ul class="plan-features">
                <li>âœ“ Hasta 10 atenciones mensuales por persona</li>
                <li>âœ“ Todas las especialidades</li>
                <li>âœ“ Turnos online 24/7</li>
                <li>âœ“ Historial mÃ©dico digital</li>
                <li>âœ“ Sin costos adicionales por consulta</li>
                <li>âœ“ Cobertura para 2 personas</li>
            </ul>
            {% if not session.get('user_id') %}
                <a href="{{ url_for('register') }}" class="btn-primary" style="width: 100%;">Elegir Plan</a>
            {% endif %}
            <p class="plan-note">*Incluye hasta 10 consultas gratuitas en total</p>
        </div>

        <!-- Plan Familiar -->
        <div class="plan-card">
            <div class="plan-header">
                <h3 class="plan-name">Familiar</h3>
                <div class="plan-price">$X</div>
                <p class="plan-price-label">Por mes</p>
            </div>
            <ul class="plan-features">
                <li>âœ“ Hasta 10 atenciones mensuales por persona</li>
                <li>âœ“ Todas las especialidades</li>
                <li>âœ“ Turnos online 24/7</li>
                <li>âœ“ Historial mÃ©dico digital</li>
                <li>âœ“ Sin costos adicionales por consulta</li>
                <li>âœ“ Cobertura para hasta 4 personas</li>
                <li>âœ“ Medico en linea para consultas sin moverte de tu casa</li>
            </ul>
            {% if not session.get('user_id') %}
                <a href="{{ url_for('register') }}" class="btn-primary" style="width: 100%;">Elegir Plan</a>
            {% endif %}
            <p class="plan-note">*Incluye hasta 10 consultas gratuitas en total</p>
        </div>
        <!-- Plan Maxi -->
        <div class="plan-card">
            <div class="plan-header">
                <h3 class="plan-name">Familiar Maxi</h3>
                <div class="plan-price">$X</div>
                <p class="plan-price-label">Por mes</p>
            </div>
            <ul class="plan-features">
                <li>âœ“ Hasta 10 atenciones mensuales por persona</li>
                <li>âœ“ Todas las especialidades</li>
                <li>âœ“ Turnos online 24/7</li>
                <li>âœ“ Historial mÃ©dico digital</li>
                <li>âœ“ Sin costos adicionales por consulta</li>
                <li>âœ“ Cobertura para mas de 4 personas</li>
                <li>âœ“ Medico en linea para consultas sin moverte de tu casa</li>
            </ul>
            {% if not session.get('user_id') %}
                <a href="{{ url_for('register') }}" class="btn-primary" style="width: 100%;">Elegir Plan</a>
            {% endif %}
            <p class="plan-note">*Incluye hasta 10 consultas gratuitas en total</p>
        </div>
    </div>
</section>

<!-- Locations Section -->
<section class="locations-section" id="consultorios">
    <h2 class="section-title">Nuestros Consultorios</h2>
    <div class="locations-grid">
        <!-- Consultorio 1 -->
        <div class="location-card">
            <h3 class="location-title">Consultorio Monn - Sede Centro</h3>
            <div class="location-info">
                <div class="location-item">
                    <span class="location-icon">ğŸ“</span>
                    <p class="location-text">[DirecciÃ³n del consultorio - A completar por el usuario]</p>
                </div>
                <div class="location-item">
                    <span class="location-icon">ğŸ“</span>
                    <p class="location-text">[TelÃ©fono - A completar por el usuario]</p>
                </div>
                <div class="location-item">
                    <span class="location-icon">ğŸ•</span>
                    <p class="location-text">Lunes a Viernes: 8:00 - 20:00<br>SÃ¡bados: 9:00 - 13:00</p>
                </div>
            </div>
        </div>

        <!-- Consultorio 2 -->
        <div class="location-card">
            <h3 class="location-title">Consultorio Monn - Sede Norte</h3>
            <div class="location-info">
                <div class="location-item">
                    <span class="location-icon">ğŸ“</span>
                    <p class="location-text">[DirecciÃ³n del consultorio - A completar por el usuario]</p>
                </div>
                <div class="location-item">
                    <span class="location-icon">ğŸ“</span>
                    <p class="location-text">[TelÃ©fono - A completar por el usuario]</p>
                </div>
                <div class="location-item">
                    <span class="location-icon">ğŸ•</span>
                    <p class="location-text">Lunes a Viernes: 8:00 - 20:00<br>SÃ¡bados: 9:00 - 13:00</p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    // Script PWA solo para la pÃ¡gina de inicio
    let deferredPrompt;
    const installBanner = document.getElementById('install-banner');
    const btnInstall = document.getElementById('btn-install');

    window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        installBanner.style.display = 'block';
    });

    btnInstall.addEventListener('click', async () => {
        if (deferredPrompt) {
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            if (outcome === 'accepted') {
                console.log('El usuario aceptÃ³ la instalaciÃ³n');
            }
            deferredPrompt = null;
            installBanner.style.display = 'none';
        }
    });
</script>
{% endblock %}